{"ast":null,"code":"import _objectSpread from \"/Users/saisaran/Desktop/BirdTag/UI/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"/Users/saisaran/Desktop/BirdTag/UI/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"onError\"];\nimport * as React from 'react';\nimport { getUrl } from 'aws-amplify/storage';\nimport { isFunction } from '@aws-amplify/ui';\nconst INIT_STATE = {\n  url: undefined,\n  expiresAt: undefined,\n  isLoading: true\n};\nfunction useGetUrl(input) {\n  const [result, setResult] = React.useState(() => INIT_STATE);\n  React.useEffect(() => {\n    const {\n        onError\n      } = input,\n      getUrlInput = _objectWithoutProperties(input, _excluded);\n    let ignore = false;\n    getUrl(getUrlInput).then(response => {\n      if (ignore) {\n        return;\n      }\n      setResult(_objectSpread(_objectSpread({}, response), {}, {\n        isLoading: false\n      }));\n    }).catch(error => {\n      if (ignore) {\n        return;\n      }\n      if (isFunction(onError)) {\n        onError(error);\n      }\n      setResult(_objectSpread(_objectSpread({}, INIT_STATE), {}, {\n        isLoading: false\n      }));\n    });\n    return () => {\n      ignore = true;\n    };\n  }, [input]);\n  return result;\n}\nexport { useGetUrl as default };","map":{"version":3,"names":["React","getUrl","isFunction","INIT_STATE","url","undefined","expiresAt","isLoading","useGetUrl","input","result","setResult","useState","useEffect","onError","getUrlInput","_objectWithoutProperties","_excluded","ignore","then","response","_objectSpread","catch","error","default"],"sources":["/Users/saisaran/Desktop/BirdTag/UI/node_modules/@aws-amplify/ui-react-core/dist/esm/hooks/useGetUrl.mjs"],"sourcesContent":["import * as React from 'react';\nimport { getUrl } from 'aws-amplify/storage';\nimport { isFunction } from '@aws-amplify/ui';\n\nconst INIT_STATE = {\n    url: undefined,\n    expiresAt: undefined,\n    isLoading: true,\n};\nfunction useGetUrl(input) {\n    const [result, setResult] = React.useState(() => INIT_STATE);\n    React.useEffect(() => {\n        const { onError, ...getUrlInput } = input;\n        let ignore = false;\n        getUrl(getUrlInput)\n            .then((response) => {\n            if (ignore) {\n                return;\n            }\n            setResult({ ...response, isLoading: false });\n        })\n            .catch((error) => {\n            if (ignore) {\n                return;\n            }\n            if (isFunction(onError)) {\n                onError(error);\n            }\n            setResult({ ...INIT_STATE, isLoading: false });\n        });\n        return () => {\n            ignore = true;\n        };\n    }, [input]);\n    return result;\n}\n\nexport { useGetUrl as default };\n"],"mappings":";;;AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,MAAM,QAAQ,qBAAqB;AAC5C,SAASC,UAAU,QAAQ,iBAAiB;AAE5C,MAAMC,UAAU,GAAG;EACfC,GAAG,EAAEC,SAAS;EACdC,SAAS,EAAED,SAAS;EACpBE,SAAS,EAAE;AACf,CAAC;AACD,SAASC,SAASA,CAACC,KAAK,EAAE;EACtB,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGX,KAAK,CAACY,QAAQ,CAAC,MAAMT,UAAU,CAAC;EAC5DH,KAAK,CAACa,SAAS,CAAC,MAAM;IAClB,MAAM;QAAEC;MAAwB,CAAC,GAAGL,KAAK;MAArBM,WAAW,GAAAC,wBAAA,CAAKP,KAAK,EAAAQ,SAAA;IACzC,IAAIC,MAAM,GAAG,KAAK;IAClBjB,MAAM,CAACc,WAAW,CAAC,CACdI,IAAI,CAAEC,QAAQ,IAAK;MACpB,IAAIF,MAAM,EAAE;QACR;MACJ;MACAP,SAAS,CAAAU,aAAA,CAAAA,aAAA,KAAMD,QAAQ;QAAEb,SAAS,EAAE;MAAK,EAAE,CAAC;IAChD,CAAC,CAAC,CACGe,KAAK,CAAEC,KAAK,IAAK;MAClB,IAAIL,MAAM,EAAE;QACR;MACJ;MACA,IAAIhB,UAAU,CAACY,OAAO,CAAC,EAAE;QACrBA,OAAO,CAACS,KAAK,CAAC;MAClB;MACAZ,SAAS,CAAAU,aAAA,CAAAA,aAAA,KAAMlB,UAAU;QAAEI,SAAS,EAAE;MAAK,EAAE,CAAC;IAClD,CAAC,CAAC;IACF,OAAO,MAAM;MACTW,MAAM,GAAG,IAAI;IACjB,CAAC;EACL,CAAC,EAAE,CAACT,KAAK,CAAC,CAAC;EACX,OAAOC,MAAM;AACjB;AAEA,SAASF,SAAS,IAAIgB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}