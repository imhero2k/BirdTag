{"ast":null,"code":"import _objectWithoutProperties from \"/Users/saisaran/Desktop/BirdTag/UI/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _objectSpread from \"/Users/saisaran/Desktop/BirdTag/UI/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nconst _excluded = [\"useNextWaitConfig\"],\n  _excluded2 = [\"services\"];\nimport { actions, createMachine, assign, spawn, forwardTo } from 'xstate';\nimport '@aws-amplify/core/internals/utils';\nimport '../../utils/setUserAgent/constants.mjs';\nimport { isEmptyObject } from '../../utils/utils.mjs';\nimport ACTIONS from './actions.mjs';\nimport GUARDS from './guards.mjs';\nimport { forgotPasswordActor } from './actors/forgotPassword.mjs';\nimport { signInActor } from './actors/signIn.mjs';\nimport { signUpActor } from './actors/signUp.mjs';\nimport { signOutActor } from './actors/signOut.mjs';\nimport { verifyUserAttributesActor } from './actors/verifyUserAttributes.mjs';\nimport { defaultServices } from './defaultServices.mjs';\nconst getActorContext = (context, defaultStep) => {\n  var _context$actorDoneDat, _context$actorDoneDat2, _context$config, _context$config2, _context$config3, _context$config4, _context$config5;\n  return _objectSpread(_objectSpread({}, context.actorDoneData), {}, {\n    step: (_context$actorDoneDat = context === null || context === void 0 || (_context$actorDoneDat2 = context.actorDoneData) === null || _context$actorDoneDat2 === void 0 ? void 0 : _context$actorDoneDat2.step) !== null && _context$actorDoneDat !== void 0 ? _context$actorDoneDat : defaultStep,\n    // initialize empty objects on actor start\n    formValues: {},\n    touched: {},\n    validationError: {},\n    // values included on `context.config` that should be available in actors\n    formFields: (_context$config = context.config) === null || _context$config === void 0 ? void 0 : _context$config.formFields,\n    loginMechanisms: (_context$config2 = context.config) === null || _context$config2 === void 0 ? void 0 : _context$config2.loginMechanisms,\n    passwordSettings: (_context$config3 = context.config) === null || _context$config3 === void 0 ? void 0 : _context$config3.passwordSettings,\n    signUpAttributes: (_context$config4 = context.config) === null || _context$config4 === void 0 ? void 0 : _context$config4.signUpAttributes,\n    socialProviders: (_context$config5 = context.config) === null || _context$config5 === void 0 ? void 0 : _context$config5.socialProviders\n  });\n};\nconst {\n  choose,\n  stop\n} = actions;\nconst stopActor = machineId => stop(machineId);\n// setup step waits for ui to emit INIT action to proceed to configure\nconst LEGACY_WAIT_CONFIG = {\n  on: {\n    INIT: {\n      actions: 'configure',\n      target: 'getConfig'\n    },\n    SIGN_OUT: '#authenticator.signOut'\n  }\n};\n// setup step proceeds directly to configure\nconst NEXT_WAIT_CONFIG = {\n  always: {\n    actions: 'configure',\n    target: 'getConfig'\n  }\n};\nfunction createAuthenticatorMachine(options) {\n  const _ref = options !== null && options !== void 0 ? options : {},\n    {\n      useNextWaitConfig\n    } = _ref,\n    overrideConfigServices = _objectWithoutProperties(_ref, _excluded);\n  const initConfig = useNextWaitConfig ? NEXT_WAIT_CONFIG : LEGACY_WAIT_CONFIG;\n  return createMachine({\n    id: 'authenticator',\n    initial: 'idle',\n    context: {\n      user: undefined,\n      config: {},\n      services: defaultServices,\n      actorRef: undefined,\n      hasSetup: false\n    },\n    predictableActionArguments: true,\n    states: {\n      // See: https://xstate.js.org/docs/guides/communication.html#invoking-promises\n      idle: {\n        invoke: {\n          src: 'handleGetCurrentUser',\n          onDone: {\n            actions: 'setUser',\n            target: 'setup'\n          },\n          onError: {\n            target: 'setup'\n          }\n        }\n      },\n      setup: {\n        initial: 'initConfig',\n        states: {\n          initConfig,\n          getConfig: {\n            invoke: {\n              src: 'getAmplifyConfig',\n              onDone: [{\n                actions: ['applyAmplifyConfig', 'setHasSetup'],\n                cond: 'hasUser',\n                target: '#authenticator.authenticated'\n              }, {\n                actions: ['applyAmplifyConfig', 'setHasSetup'],\n                target: 'goToInitialState'\n              }]\n            }\n          },\n          goToInitialState: {\n            always: [{\n              cond: 'isInitialStateSignUp',\n              target: '#authenticator.signUpActor'\n            }, {\n              cond: 'isInitialStateResetPassword',\n              target: '#authenticator.forgotPasswordActor'\n            }, {\n              target: '#authenticator.signInActor'\n            }]\n          }\n        }\n      },\n      getCurrentUser: {\n        invoke: {\n          src: 'handleGetCurrentUser',\n          onDone: {\n            actions: 'setUser',\n            target: '#authenticator.authenticated'\n          },\n          onError: {\n            target: '#authenticator.setup'\n          }\n        }\n      },\n      signInActor: {\n        initial: 'spawnActor',\n        states: {\n          spawnActor: {\n            always: {\n              actions: 'spawnSignInActor',\n              target: 'runActor'\n            }\n          },\n          runActor: {\n            entry: 'clearActorDoneData',\n            exit: stopActor('signInActor')\n          }\n        },\n        on: {\n          FORGOT_PASSWORD: 'forgotPasswordActor',\n          SIGN_IN: 'signInActor',\n          SIGN_UP: 'signUpActor',\n          'done.invoke.signInActor': [{\n            cond: 'hasCompletedAttributeConfirmation',\n            target: '#authenticator.getCurrentUser'\n          }, {\n            cond: 'isShouldConfirmUserAttributeStep',\n            actions: 'setActorDoneData',\n            target: '#authenticator.verifyUserAttributesActor'\n          }, {\n            cond: 'isResetPasswordStep',\n            actions: 'setActorDoneData',\n            target: '#authenticator.forgotPasswordActor'\n          }, {\n            cond: 'isConfirmSignUpStep',\n            actions: 'setActorDoneData',\n            target: '#authenticator.signUpActor'\n          }]\n        }\n      },\n      signUpActor: {\n        initial: 'spawnActor',\n        states: {\n          spawnActor: {\n            always: {\n              actions: 'spawnSignUpActor',\n              target: 'runActor'\n            }\n          },\n          runActor: {\n            entry: 'clearActorDoneData',\n            exit: stopActor('signUpActor')\n          }\n        },\n        on: {\n          SIGN_IN: 'signInActor',\n          'done.invoke.signUpActor': [{\n            cond: 'hasCompletedAttributeConfirmation',\n            target: '#authenticator.getCurrentUser'\n          }, {\n            cond: 'isShouldConfirmUserAttributeStep',\n            actions: 'setActorDoneData',\n            target: '#authenticator.verifyUserAttributesActor'\n          }, {\n            cond: 'isConfirmUserAttributeStep',\n            target: '#authenticator.verifyUserAttributesActor'\n          }, {\n            actions: 'setActorDoneData',\n            target: '#authenticator.signInActor'\n          }]\n        }\n      },\n      forgotPasswordActor: {\n        initial: 'spawnActor',\n        states: {\n          spawnActor: {\n            always: {\n              actions: 'spawnForgotPasswordActor',\n              target: 'runActor'\n            }\n          },\n          runActor: {\n            entry: 'clearActorDoneData',\n            exit: stopActor('forgotPasswordActor')\n          }\n        },\n        on: {\n          SIGN_IN: 'signInActor',\n          'done.invoke.forgotPasswordActor': [{\n            target: '#authenticator.signInActor'\n          }]\n        }\n      },\n      verifyUserAttributesActor: {\n        initial: 'spawnActor',\n        states: {\n          spawnActor: {\n            always: {\n              actions: 'spawnVerifyUserAttributesActor',\n              target: 'runActor'\n            }\n          },\n          runActor: {\n            entry: 'clearActorDoneData',\n            exit: stopActor('verifyUserAttributesActor')\n          }\n        },\n        on: {\n          'done.invoke.verifyUserAttributesActor': [{\n            actions: 'setActorDoneData',\n            target: '#authenticator.getCurrentUser'\n          }]\n        }\n      },\n      authenticated: {\n        initial: 'idle',\n        states: {\n          idle: {\n            on: {\n              TOKEN_REFRESH: 'refreshUser'\n            }\n          },\n          refreshUser: {\n            invoke: {\n              src: '#authenticator.getCurrentUser',\n              onDone: {\n                actions: 'setUser',\n                target: 'idle'\n              },\n              onError: {\n                target: '#authenticator.signOut'\n              }\n            }\n          }\n        },\n        on: {\n          SIGN_OUT: 'signOut'\n        }\n      },\n      signOut: {\n        initial: 'spawnActor',\n        states: {\n          spawnActor: {\n            always: {\n              actions: 'spawnSignOutActor',\n              target: 'runActor'\n            }\n          },\n          runActor: {\n            entry: 'clearActorDoneData',\n            exit: stopActor('signOutActor')\n          }\n        },\n        on: {\n          'done.invoke.signOutActor': {\n            actions: 'clearUser',\n            target: 'setup.getConfig'\n          }\n        }\n      }\n    },\n    on: {\n      SIGN_IN_WITH_REDIRECT: {\n        target: '#authenticator.getCurrentUser'\n      },\n      CHANGE: {\n        actions: 'forwardToActor'\n      },\n      BLUR: {\n        actions: 'forwardToActor'\n      },\n      SUBMIT: {\n        actions: 'forwardToActor'\n      },\n      FEDERATED_SIGN_IN: {\n        actions: 'forwardToActor'\n      },\n      RESEND: {\n        actions: 'forwardToActor'\n      },\n      SIGN_IN: {\n        actions: 'forwardToActor'\n      },\n      SKIP: {\n        actions: 'forwardToActor'\n      }\n    }\n  }, {\n    actions: _objectSpread(_objectSpread({}, ACTIONS), {}, {\n      forwardToActor: choose([{\n        cond: 'hasActor',\n        actions: forwardTo(_ref2 => {\n          let {\n            actorRef\n          } = _ref2;\n          return actorRef;\n        })\n      }]),\n      setActorDoneData: assign({\n        actorDoneData: (_, event) => ({\n          challengeName: event.data.challengeName,\n          codeDeliveryDetails: event.data.codeDeliveryDetails,\n          missingAttributes: event.data.missingAttributes,\n          remoteError: event.data.remoteError,\n          username: event.data.username,\n          step: event.data.step,\n          totpSecretCode: event.data.totpSecretCode,\n          unverifiedUserAttributes: event.data.unverifiedUserAttributes,\n          allowedMfaTypes: event.data.allowedMfaTypes\n        })\n      }),\n      applyAmplifyConfig: assign({\n        config(context, _ref3) {\n          var _cliConfig$loginMecha, _cliConfig$signUpAttr, _cliConfig$socialProv, _cliConfig$passwordFo, _convertFormFields;\n          let {\n            data: cliConfig\n          } = _ref3;\n          // Prefer explicitly configured settings over default CLI values\\\n          const {\n            loginMechanisms = (_cliConfig$loginMecha = cliConfig.loginMechanisms) !== null && _cliConfig$loginMecha !== void 0 ? _cliConfig$loginMecha : [],\n            signUpAttributes = (_cliConfig$signUpAttr = cliConfig.signUpAttributes) !== null && _cliConfig$signUpAttr !== void 0 ? _cliConfig$signUpAttr : [],\n            socialProviders = (_cliConfig$socialProv = cliConfig.socialProviders) !== null && _cliConfig$socialProv !== void 0 ? _cliConfig$socialProv : [],\n            initialState,\n            formFields: _formFields,\n            passwordSettings = (_cliConfig$passwordFo = cliConfig.passwordFormat) !== null && _cliConfig$passwordFo !== void 0 ? _cliConfig$passwordFo : {}\n          } = context.config;\n          // By default, Cognito assumes `username`, so there isn't a different username attribute like `email`.\n          // We explicitly add it as a login mechanism to be consistent with Admin UI's language.\n          if (loginMechanisms.length === 0) {\n            loginMechanisms.push('username');\n          }\n          const formFields = (_convertFormFields = convertFormFields(_formFields)) !== null && _convertFormFields !== void 0 ? _convertFormFields : {};\n          return {\n            formFields,\n            initialState,\n            loginMechanisms,\n            passwordSettings,\n            signUpAttributes,\n            socialProviders\n          };\n        }\n      }),\n      spawnSignInActor: assign({\n        actorRef: (context, _) => {\n          const {\n            services\n          } = context;\n          const actor = signInActor({\n            services\n          }).withContext(getActorContext(context, 'SIGN_IN'));\n          return spawn(actor, {\n            name: 'signInActor'\n          });\n        }\n      }),\n      spawnSignUpActor: assign({\n        actorRef: (context, _) => {\n          const {\n            services\n          } = context;\n          const actor = signUpActor({\n            services\n          }).withContext(getActorContext(context, 'SIGN_UP'));\n          return spawn(actor, {\n            name: 'signUpActor'\n          });\n        }\n      }),\n      spawnForgotPasswordActor: assign({\n        actorRef: (context, _) => {\n          const {\n            services\n          } = context;\n          const actor = forgotPasswordActor({\n            services\n          }).withContext(getActorContext(context, 'FORGOT_PASSWORD'));\n          return spawn(actor, {\n            name: 'forgotPasswordActor'\n          });\n        }\n      }),\n      spawnVerifyUserAttributesActor: assign({\n        actorRef: context => {\n          const actor = verifyUserAttributesActor().withContext(getActorContext(context));\n          return spawn(actor, {\n            name: 'verifyUserAttributesActor'\n          });\n        }\n      }),\n      spawnSignOutActor: assign({\n        actorRef: context => {\n          const actor = signOutActor().withContext({\n            user: context === null || context === void 0 ? void 0 : context.user\n          });\n          return spawn(actor, {\n            name: 'signOutActor'\n          });\n        }\n      }),\n      configure: assign((_, event) => {\n        var _event$data;\n        const _ref4 = !isEmptyObject(overrideConfigServices) ? overrideConfigServices : (_event$data = event.data) !== null && _event$data !== void 0 ? _event$data : {},\n          {\n            services: customServices\n          } = _ref4,\n          config = _objectWithoutProperties(_ref4, _excluded2);\n        return {\n          services: _objectSpread(_objectSpread({}, defaultServices), customServices),\n          config\n        };\n      }),\n      setHasSetup: assign({\n        hasSetup: true\n      })\n    }),\n    guards: _objectSpread(_objectSpread({}, GUARDS), {}, {\n      hasActor: _ref5 => {\n        let {\n          actorRef\n        } = _ref5;\n        return !!actorRef;\n      },\n      isInitialStateSignUp: _ref6 => {\n        let {\n          config\n        } = _ref6;\n        return config.initialState === 'signUp';\n      },\n      isInitialStateResetPassword: _ref7 => {\n        let {\n          config\n        } = _ref7;\n        return config.initialState === 'forgotPassword';\n      },\n      shouldSetup: _ref8 => {\n        let {\n          hasSetup\n        } = _ref8;\n        return !hasSetup;\n      },\n      hasUser: _ref9 => {\n        let {\n          user\n        } = _ref9;\n        return !!user;\n      }\n    }),\n    services: {\n      getAmplifyConfig: _ref0 => {\n        let {\n          services\n        } = _ref0;\n        return services.getAmplifyConfig();\n      },\n      handleGetCurrentUser: _ref1 => {\n        let {\n          services\n        } = _ref1;\n        return services.getCurrentUser();\n      }\n    }\n  });\n}\nfunction convertFormFields(formFields) {\n  if (formFields) {\n    Object.keys(formFields).forEach(component => {\n      Object.keys(formFields[component]).forEach(inputName => {\n        let ff = formFields[component][inputName];\n        ff.required = ff.isRequired;\n      });\n    });\n  }\n  return formFields;\n}\nexport { createAuthenticatorMachine };","map":{"version":3,"names":["actions","createMachine","assign","spawn","forwardTo","isEmptyObject","ACTIONS","GUARDS","forgotPasswordActor","signInActor","signUpActor","signOutActor","verifyUserAttributesActor","defaultServices","getActorContext","context","defaultStep","_context$actorDoneDat","_context$actorDoneDat2","_context$config","_context$config2","_context$config3","_context$config4","_context$config5","_objectSpread","actorDoneData","step","formValues","touched","validationError","formFields","config","loginMechanisms","passwordSettings","signUpAttributes","socialProviders","choose","stop","stopActor","machineId","LEGACY_WAIT_CONFIG","on","INIT","target","SIGN_OUT","NEXT_WAIT_CONFIG","always","createAuthenticatorMachine","options","_ref","useNextWaitConfig","overrideConfigServices","_objectWithoutProperties","_excluded","initConfig","id","initial","user","undefined","services","actorRef","hasSetup","predictableActionArguments","states","idle","invoke","src","onDone","onError","setup","getConfig","cond","goToInitialState","getCurrentUser","spawnActor","runActor","entry","exit","FORGOT_PASSWORD","SIGN_IN","SIGN_UP","authenticated","TOKEN_REFRESH","refreshUser","signOut","SIGN_IN_WITH_REDIRECT","CHANGE","BLUR","SUBMIT","FEDERATED_SIGN_IN","RESEND","SKIP","forwardToActor","_ref2","setActorDoneData","_","event","challengeName","data","codeDeliveryDetails","missingAttributes","remoteError","username","totpSecretCode","unverifiedUserAttributes","allowedMfaTypes","applyAmplifyConfig","_ref3","_cliConfig$loginMecha","_cliConfig$signUpAttr","_cliConfig$socialProv","_cliConfig$passwordFo","_convertFormFields","cliConfig","initialState","_formFields","passwordFormat","length","push","convertFormFields","spawnSignInActor","actor","withContext","name","spawnSignUpActor","spawnForgotPasswordActor","spawnVerifyUserAttributesActor","spawnSignOutActor","configure","_event$data","_ref4","customServices","_excluded2","setHasSetup","guards","hasActor","_ref5","isInitialStateSignUp","_ref6","isInitialStateResetPassword","_ref7","shouldSetup","_ref8","hasUser","_ref9","getAmplifyConfig","_ref0","handleGetCurrentUser","_ref1","Object","keys","forEach","component","inputName","ff","required","isRequired"],"sources":["/Users/saisaran/Desktop/BirdTag/UI/node_modules/@aws-amplify/ui/dist/esm/machines/authenticator/index.mjs"],"sourcesContent":["import { actions, createMachine, assign, spawn, forwardTo } from 'xstate';\nimport '@aws-amplify/core/internals/utils';\nimport '../../utils/setUserAgent/constants.mjs';\nimport { isEmptyObject } from '../../utils/utils.mjs';\nimport ACTIONS from './actions.mjs';\nimport GUARDS from './guards.mjs';\nimport { forgotPasswordActor } from './actors/forgotPassword.mjs';\nimport { signInActor } from './actors/signIn.mjs';\nimport { signUpActor } from './actors/signUp.mjs';\nimport { signOutActor } from './actors/signOut.mjs';\nimport { verifyUserAttributesActor } from './actors/verifyUserAttributes.mjs';\nimport { defaultServices } from './defaultServices.mjs';\n\nconst getActorContext = (context, defaultStep) => ({\n    ...context.actorDoneData,\n    step: context?.actorDoneData?.step ?? defaultStep,\n    // initialize empty objects on actor start\n    formValues: {},\n    touched: {},\n    validationError: {},\n    // values included on `context.config` that should be available in actors\n    formFields: context.config?.formFields,\n    loginMechanisms: context.config?.loginMechanisms,\n    passwordSettings: context.config?.passwordSettings,\n    signUpAttributes: context.config?.signUpAttributes,\n    socialProviders: context.config?.socialProviders,\n});\nconst { choose, stop } = actions;\nconst stopActor = (machineId) => stop(machineId);\n// setup step waits for ui to emit INIT action to proceed to configure\nconst LEGACY_WAIT_CONFIG = {\n    on: {\n        INIT: {\n            actions: 'configure',\n            target: 'getConfig',\n        },\n        SIGN_OUT: '#authenticator.signOut',\n    },\n};\n// setup step proceeds directly to configure\nconst NEXT_WAIT_CONFIG = {\n    always: { actions: 'configure', target: 'getConfig' },\n};\nfunction createAuthenticatorMachine(options) {\n    const { useNextWaitConfig, ...overrideConfigServices } = options ?? {};\n    const initConfig = useNextWaitConfig ? NEXT_WAIT_CONFIG : LEGACY_WAIT_CONFIG;\n    return createMachine({\n        id: 'authenticator',\n        initial: 'idle',\n        context: {\n            user: undefined,\n            config: {},\n            services: defaultServices,\n            actorRef: undefined,\n            hasSetup: false,\n        },\n        predictableActionArguments: true,\n        states: {\n            // See: https://xstate.js.org/docs/guides/communication.html#invoking-promises\n            idle: {\n                invoke: {\n                    src: 'handleGetCurrentUser',\n                    onDone: { actions: 'setUser', target: 'setup' },\n                    onError: { target: 'setup' },\n                },\n            },\n            setup: {\n                initial: 'initConfig',\n                states: {\n                    initConfig,\n                    getConfig: {\n                        invoke: {\n                            src: 'getAmplifyConfig',\n                            onDone: [\n                                {\n                                    actions: ['applyAmplifyConfig', 'setHasSetup'],\n                                    cond: 'hasUser',\n                                    target: '#authenticator.authenticated',\n                                },\n                                {\n                                    actions: ['applyAmplifyConfig', 'setHasSetup'],\n                                    target: 'goToInitialState',\n                                },\n                            ],\n                        },\n                    },\n                    goToInitialState: {\n                        always: [\n                            {\n                                cond: 'isInitialStateSignUp',\n                                target: '#authenticator.signUpActor',\n                            },\n                            {\n                                cond: 'isInitialStateResetPassword',\n                                target: '#authenticator.forgotPasswordActor',\n                            },\n                            { target: '#authenticator.signInActor' },\n                        ],\n                    },\n                },\n            },\n            getCurrentUser: {\n                invoke: {\n                    src: 'handleGetCurrentUser',\n                    onDone: {\n                        actions: 'setUser',\n                        target: '#authenticator.authenticated',\n                    },\n                    onError: { target: '#authenticator.setup' },\n                },\n            },\n            signInActor: {\n                initial: 'spawnActor',\n                states: {\n                    spawnActor: {\n                        always: { actions: 'spawnSignInActor', target: 'runActor' },\n                    },\n                    runActor: {\n                        entry: 'clearActorDoneData',\n                        exit: stopActor('signInActor'),\n                    },\n                },\n                on: {\n                    FORGOT_PASSWORD: 'forgotPasswordActor',\n                    SIGN_IN: 'signInActor',\n                    SIGN_UP: 'signUpActor',\n                    'done.invoke.signInActor': [\n                        {\n                            cond: 'hasCompletedAttributeConfirmation',\n                            target: '#authenticator.getCurrentUser',\n                        },\n                        {\n                            cond: 'isShouldConfirmUserAttributeStep',\n                            actions: 'setActorDoneData',\n                            target: '#authenticator.verifyUserAttributesActor',\n                        },\n                        {\n                            cond: 'isResetPasswordStep',\n                            actions: 'setActorDoneData',\n                            target: '#authenticator.forgotPasswordActor',\n                        },\n                        {\n                            cond: 'isConfirmSignUpStep',\n                            actions: 'setActorDoneData',\n                            target: '#authenticator.signUpActor',\n                        },\n                    ],\n                },\n            },\n            signUpActor: {\n                initial: 'spawnActor',\n                states: {\n                    spawnActor: {\n                        always: { actions: 'spawnSignUpActor', target: 'runActor' },\n                    },\n                    runActor: {\n                        entry: 'clearActorDoneData',\n                        exit: stopActor('signUpActor'),\n                    },\n                },\n                on: {\n                    SIGN_IN: 'signInActor',\n                    'done.invoke.signUpActor': [\n                        {\n                            cond: 'hasCompletedAttributeConfirmation',\n                            target: '#authenticator.getCurrentUser',\n                        },\n                        {\n                            cond: 'isShouldConfirmUserAttributeStep',\n                            actions: 'setActorDoneData',\n                            target: '#authenticator.verifyUserAttributesActor',\n                        },\n                        {\n                            cond: 'isConfirmUserAttributeStep',\n                            target: '#authenticator.verifyUserAttributesActor',\n                        },\n                        {\n                            actions: 'setActorDoneData',\n                            target: '#authenticator.signInActor',\n                        },\n                    ],\n                },\n            },\n            forgotPasswordActor: {\n                initial: 'spawnActor',\n                states: {\n                    spawnActor: {\n                        always: {\n                            actions: 'spawnForgotPasswordActor',\n                            target: 'runActor',\n                        },\n                    },\n                    runActor: {\n                        entry: 'clearActorDoneData',\n                        exit: stopActor('forgotPasswordActor'),\n                    },\n                },\n                on: {\n                    SIGN_IN: 'signInActor',\n                    'done.invoke.forgotPasswordActor': [\n                        { target: '#authenticator.signInActor' },\n                    ],\n                },\n            },\n            verifyUserAttributesActor: {\n                initial: 'spawnActor',\n                states: {\n                    spawnActor: {\n                        always: {\n                            actions: 'spawnVerifyUserAttributesActor',\n                            target: 'runActor',\n                        },\n                    },\n                    runActor: {\n                        entry: 'clearActorDoneData',\n                        exit: stopActor('verifyUserAttributesActor'),\n                    },\n                },\n                on: {\n                    'done.invoke.verifyUserAttributesActor': [\n                        {\n                            actions: 'setActorDoneData',\n                            target: '#authenticator.getCurrentUser',\n                        },\n                    ],\n                },\n            },\n            authenticated: {\n                initial: 'idle',\n                states: {\n                    idle: { on: { TOKEN_REFRESH: 'refreshUser' } },\n                    refreshUser: {\n                        invoke: {\n                            src: '#authenticator.getCurrentUser',\n                            onDone: { actions: 'setUser', target: 'idle' },\n                            onError: { target: '#authenticator.signOut' },\n                        },\n                    },\n                },\n                on: { SIGN_OUT: 'signOut' },\n            },\n            signOut: {\n                initial: 'spawnActor',\n                states: {\n                    spawnActor: {\n                        always: { actions: 'spawnSignOutActor', target: 'runActor' },\n                    },\n                    runActor: {\n                        entry: 'clearActorDoneData',\n                        exit: stopActor('signOutActor'),\n                    },\n                },\n                on: {\n                    'done.invoke.signOutActor': {\n                        actions: 'clearUser',\n                        target: 'setup.getConfig',\n                    },\n                },\n            },\n        },\n        on: {\n            SIGN_IN_WITH_REDIRECT: { target: '#authenticator.getCurrentUser' },\n            CHANGE: { actions: 'forwardToActor' },\n            BLUR: { actions: 'forwardToActor' },\n            SUBMIT: { actions: 'forwardToActor' },\n            FEDERATED_SIGN_IN: { actions: 'forwardToActor' },\n            RESEND: { actions: 'forwardToActor' },\n            SIGN_IN: { actions: 'forwardToActor' },\n            SKIP: { actions: 'forwardToActor' },\n        },\n    }, {\n        actions: {\n            ...ACTIONS,\n            forwardToActor: choose([\n                { cond: 'hasActor', actions: forwardTo(({ actorRef }) => actorRef) },\n            ]),\n            setActorDoneData: assign({\n                actorDoneData: (_, event) => ({\n                    challengeName: event.data.challengeName,\n                    codeDeliveryDetails: event.data.codeDeliveryDetails,\n                    missingAttributes: event.data.missingAttributes,\n                    remoteError: event.data.remoteError,\n                    username: event.data.username,\n                    step: event.data.step,\n                    totpSecretCode: event.data.totpSecretCode,\n                    unverifiedUserAttributes: event.data.unverifiedUserAttributes,\n                    allowedMfaTypes: event.data.allowedMfaTypes,\n                }),\n            }),\n            applyAmplifyConfig: assign({\n                config(context, { data: cliConfig }) {\n                    // Prefer explicitly configured settings over default CLI values\\\n                    const { loginMechanisms = cliConfig.loginMechanisms ?? [], signUpAttributes = cliConfig.signUpAttributes ?? [], socialProviders = cliConfig.socialProviders ?? [], initialState, formFields: _formFields, passwordSettings = cliConfig.passwordFormat ??\n                        {}, } = context.config;\n                    // By default, Cognito assumes `username`, so there isn't a different username attribute like `email`.\n                    // We explicitly add it as a login mechanism to be consistent with Admin UI's language.\n                    if (loginMechanisms.length === 0) {\n                        loginMechanisms.push('username');\n                    }\n                    const formFields = convertFormFields(_formFields) ?? {};\n                    return {\n                        formFields,\n                        initialState,\n                        loginMechanisms,\n                        passwordSettings,\n                        signUpAttributes,\n                        socialProviders,\n                    };\n                },\n            }),\n            spawnSignInActor: assign({\n                actorRef: (context, _) => {\n                    const { services } = context;\n                    const actor = signInActor({ services }).withContext(getActorContext(context, 'SIGN_IN'));\n                    return spawn(actor, { name: 'signInActor' });\n                },\n            }),\n            spawnSignUpActor: assign({\n                actorRef: (context, _) => {\n                    const { services } = context;\n                    const actor = signUpActor({ services }).withContext(getActorContext(context, 'SIGN_UP'));\n                    return spawn(actor, { name: 'signUpActor' });\n                },\n            }),\n            spawnForgotPasswordActor: assign({\n                actorRef: (context, _) => {\n                    const { services } = context;\n                    const actor = forgotPasswordActor({ services }).withContext(getActorContext(context, 'FORGOT_PASSWORD'));\n                    return spawn(actor, { name: 'forgotPasswordActor' });\n                },\n            }),\n            spawnVerifyUserAttributesActor: assign({\n                actorRef: (context) => {\n                    const actor = verifyUserAttributesActor().withContext(getActorContext(context));\n                    return spawn(actor, { name: 'verifyUserAttributesActor' });\n                },\n            }),\n            spawnSignOutActor: assign({\n                actorRef: (context) => {\n                    const actor = signOutActor().withContext({ user: context?.user });\n                    return spawn(actor, { name: 'signOutActor' });\n                },\n            }),\n            configure: assign((_, event) => {\n                const { services: customServices, ...config } = !isEmptyObject(overrideConfigServices)\n                    ? overrideConfigServices\n                    : event.data ?? {};\n                return {\n                    services: { ...defaultServices, ...customServices },\n                    config,\n                };\n            }),\n            setHasSetup: assign({ hasSetup: true }),\n        },\n        guards: {\n            ...GUARDS,\n            hasActor: ({ actorRef }) => !!actorRef,\n            isInitialStateSignUp: ({ config }) => config.initialState === 'signUp',\n            isInitialStateResetPassword: ({ config }) => config.initialState === 'forgotPassword',\n            shouldSetup: ({ hasSetup }) => !hasSetup,\n            hasUser: ({ user }) => {\n                return !!user;\n            },\n        },\n        services: {\n            getAmplifyConfig: ({ services }) => services.getAmplifyConfig(),\n            handleGetCurrentUser: ({ services }) => services.getCurrentUser(),\n        },\n    });\n}\nfunction convertFormFields(formFields) {\n    if (formFields) {\n        Object.keys(formFields).forEach((component) => {\n            Object.keys(formFields[component]).forEach((inputName) => {\n                let ff = formFields[component][inputName];\n                ff.required = ff.isRequired;\n            });\n        });\n    }\n    return formFields;\n}\n\nexport { createAuthenticatorMachine };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}