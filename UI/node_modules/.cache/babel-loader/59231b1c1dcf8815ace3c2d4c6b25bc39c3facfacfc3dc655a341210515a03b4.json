{"ast":null,"code":"import React,{useEffect,useState}from'react';import{fetchAuthSession}from'aws-amplify/auth';import'./Gallery.css';// Reuse gallery styles\n// Media thumbnail component with selection checkbox for deletion\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SelectableMediaThumbnail=_ref=>{let{url,fileType,tags,isSelected,onSelect,onMediaClick,width=200}=_ref;const[imageError,setImageError]=useState(false);const[mediaType,setMediaType]=useState(null);const detectMediaType=(url,fileType)=>{if(fileType){if(fileType.startsWith('image/'))return'image';if(fileType.startsWith('video/'))return'video';if(fileType.startsWith('audio/'))return'audio';}if(!url)return'unknown';const lowerUrl=url.toLowerCase();if(lowerUrl.includes('.jpg')||lowerUrl.includes('.jpeg')||lowerUrl.includes('.png')||lowerUrl.includes('.gif')||lowerUrl.includes('.webp')||lowerUrl.includes('.bmp')){return'image';}if(lowerUrl.includes('.mp4')||lowerUrl.includes('.mov')||lowerUrl.includes('.avi')||lowerUrl.includes('.mkv')||lowerUrl.includes('.webm')||lowerUrl.includes('.quicktime')){return'video';}if(lowerUrl.includes('.mp3')||lowerUrl.includes('.wav')||lowerUrl.includes('.ogg')||lowerUrl.includes('.m4a')||lowerUrl.includes('.flac')||lowerUrl.includes('.aac')){return'audio';}return'unknown';};const currentMediaType=mediaType||detectMediaType(url,fileType);const handleImageError=()=>{setImageError(true);setMediaType(detectMediaType(url,fileType));};const renderImageThumbnail=()=>/*#__PURE__*/_jsx(\"img\",{src:url,alt:\"thumbnail\",style:{width:'100%',height:180,objectFit:'cover',cursor:'pointer',border:isSelected?'3px solid #f44336':'1px solid #ddd',borderRadius:'4px',transition:'all 0.2s ease'},onClick:()=>onMediaClick(url),onError:handleImageError});const renderVideoThumbnail=()=>/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%',height:180,border:isSelected?'3px solid #f44336':'1px solid #ddd',borderRadius:'4px',cursor:'pointer',position:'relative',backgroundColor:'#f5f5f5',display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',transition:'all 0.2s ease',backgroundImage:'linear-gradient(45deg, #f0f0f0 25%, transparent 25%), linear-gradient(-45deg, #f0f0f0 25%, transparent 25%)',backgroundSize:'20px 20px'},onClick:()=>onMediaClick(url),children:[/*#__PURE__*/_jsx(\"svg\",{width:\"48\",height:\"48\",viewBox:\"0 0 24 24\",fill:\"#666\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M8 5v14l11-7z\"})}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'#666',marginTop:'8px',fontWeight:'bold'},children:\"VIDEO\"})]});const renderAudioThumbnail=()=>/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%',height:180,border:isSelected?'3px solid #f44336':'1px solid #ddd',borderRadius:'4px',cursor:'pointer',position:'relative',backgroundColor:'#f0f8ff',display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',transition:'all 0.2s ease'},onClick:()=>onMediaClick(url),children:[/*#__PURE__*/_jsx(\"svg\",{width:\"48\",height:\"48\",viewBox:\"0 0 24 24\",fill:\"#4a90e2\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z\"})}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'#4a90e2',marginTop:'8px',fontWeight:'bold'},children:\"AUDIO\"}),/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',bottom:'15px',display:'flex',alignItems:'end',gap:'2px'},children:[12,20,8,16,24,10,18,14,22,6,16,12].map((height,i)=>/*#__PURE__*/_jsx(\"div\",{style:{width:'3px',height:\"\".concat(height,\"px\"),backgroundColor:'#4a90e2',borderRadius:'1px',opacity:0.7}},i))})]});const renderUnknownThumbnail=()=>/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%',height:180,border:isSelected?'3px solid #f44336':'1px solid #ddd',borderRadius:'4px',cursor:'pointer',backgroundColor:'#f5f5f5',display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',transition:'all 0.2s ease'},onClick:()=>onMediaClick(url),children:[/*#__PURE__*/_jsx(\"svg\",{width:\"48\",height:\"48\",viewBox:\"0 0 24 24\",fill:\"#999\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z\"})}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'#999',marginTop:'8px',fontWeight:'bold'},children:\"FILE\"})]});// Render the appropriate thumbnail\nlet thumbnailContent;if(!imageError&&(currentMediaType==='image'||currentMediaType==='unknown')){thumbnailContent=renderImageThumbnail();}else if(currentMediaType==='video'){thumbnailContent=renderVideoThumbnail();}else if(currentMediaType==='audio'){thumbnailContent=renderAudioThumbnail();}else{thumbnailContent=renderUnknownThumbnail();}return/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'8px',left:'8px',zIndex:10},children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:isSelected,onChange:e=>{e.stopPropagation();onSelect();},style:{width:'18px',height:'18px',cursor:'pointer',accentColor:'#f44336'}})}),isSelected&&/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:0,left:0,right:0,bottom:0,backgroundColor:'rgba(244, 67, 54, 0.2)',borderRadius:'4px',display:'flex',alignItems:'center',justifyContent:'center',zIndex:5},children:/*#__PURE__*/_jsx(\"svg\",{width:\"32\",height:\"32\",viewBox:\"0 0 24 24\",fill:\"rgba(244, 67, 54, 0.8)\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z\"})})}),thumbnailContent]});};const DeleteFiles=_ref2=>{let{onBack}=_ref2;const[mediaItems,setMediaItems]=useState([]);const[selectedItems,setSelectedItems]=useState(new Set());const[searchTag,setSearchTag]=useState('');const[error,setError]=useState('');const[loading,setLoading]=useState(false);const[totalCount,setTotalCount]=useState(0);const[isDeleting,setIsDeleting]=useState(false);const apiBase='https://5myucif3s8.execute-api.us-east-1.amazonaws.com/dev';useEffect(()=>{fetchAllMedia();},[]);const fetchAllMedia=async()=>{setLoading(true);try{var _tokens$idToken;const{tokens}=await fetchAuthSession();const idToken=tokens===null||tokens===void 0?void 0:(_tokens$idToken=tokens.idToken)===null||_tokens$idToken===void 0?void 0:_tokens$idToken.toString();if(!idToken){throw new Error('Authentication token not available');}const res=await fetch(\"\".concat(apiBase,\"/show-gallery\"),{method:'GET',headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(idToken)}});if(!res.ok){const text=await res.text();throw new Error(\"Fetch failed: \".concat(res.status,\" \").concat(text));}const data=await res.json();console.log('Gallery API response:',data);const allItems=transformGalleryData(data.gallery||{});setMediaItems(allItems);setTotalCount(data.total_count||allItems.length);setError('');}catch(err){console.error('Error fetching media:',err);setError('Failed to load media files.');}finally{setLoading(false);}};const transformGalleryData=gallery=>{const allItems=[];['images','audio','video','other'].forEach(fileType=>{if(gallery[fileType]&&Array.isArray(gallery[fileType])){gallery[fileType].forEach(item=>{const tagsArray=transformTags(item.tags||{});allItems.push({url:item.url,file_type:item.file_type,file_id:item.file_id,upload_date:item.upload_date,tags:tagsArray,tagsObject:item.tags||{}});});}});return allItems;};const transformTags=tagsObject=>{if(!tagsObject||typeof tagsObject!=='object'){return[];}return Object.entries(tagsObject).map(_ref3=>{let[species,count]=_ref3;return count>1?\"\".concat(species,\" (\").concat(count,\")\"):species;});};const handleSelectItem=url=>{const newSelected=new Set(selectedItems);if(newSelected.has(url)){newSelected.delete(url);}else{newSelected.add(url);}setSelectedItems(newSelected);};const handleSelectAll=()=>{if(selectedItems.size===filteredItems.length){setSelectedItems(new Set());// Deselect all\n}else{setSelectedItems(new Set(filteredItems.map(item=>item.url)));// Select all filtered\n}};const handleMediaClick=async mediaUrl=>{// Same media click handler from Gallery\ntry{console.log('Opening media:',mediaUrl);if(mediaUrl.includes('/thumbnails/')){try{var _tokens$idToken2;const{tokens}=await fetchAuthSession();const token=tokens===null||tokens===void 0?void 0:(_tokens$idToken2=tokens.idToken)===null||_tokens$idToken2===void 0?void 0:_tokens$idToken2.toString();const response=await fetch(\"\".concat(apiBase,\"/search/by-thumbnail-url?thumbnail_url=\").concat(encodeURIComponent(mediaUrl)),{method:'GET',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});if(response.ok){const data=await response.json();if(data.links&&data.links.length>0){window.open(data.links[0],'_blank');return;}}}catch(err){console.error('API lookup failed, trying fallback:',err);}const originalUrl=mediaUrl.replace('/thumbnails/','/');window.open(originalUrl,'_blank');}else{window.open(mediaUrl,'_blank');}}catch(err){console.error('Media click failed:',err);setError(\"Error opening media: \".concat(err.message));}};const handleDeleteFiles=async()=>{if(selectedItems.size===0){setError('Please select at least one file to delete');return;}// Confirmation dialog\nconst confirmDelete=window.confirm(\"Are you sure you want to delete \".concat(selectedItems.size,\" file(s)? This action cannot be undone.\"));if(!confirmDelete){return;}setIsDeleting(true);setError('');try{var _tokens$idToken3;const{tokens}=await fetchAuthSession();const token=tokens===null||tokens===void 0?void 0:(_tokens$idToken3=tokens.idToken)===null||_tokens$idToken3===void 0?void 0:_tokens$idToken3.toString();const urlArray=Array.from(selectedItems);const response=await fetch(\"\".concat(apiBase,\"/delete\"),{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify({url:urlArray})});const data=await response.json();if(!response.ok){throw new Error(data.error||'Delete request failed');}// Success - refresh the gallery and clear selections\nawait fetchAllMedia();setSelectedItems(new Set());alert(\"Successfully deleted \".concat(urlArray.length,\" files\"));}catch(err){console.error('Delete error:',err);setError(err.message);}finally{setIsDeleting(false);}};// Filter items based on search tag\nconst filteredItems=searchTag?mediaItems.filter(item=>{var _item$tags;const searchLower=searchTag.toLowerCase();const matchesDisplayTags=(_item$tags=item.tags)===null||_item$tags===void 0?void 0:_item$tags.some(tag=>tag.toLowerCase().includes(searchLower));const matchesOriginalTags=Object.keys(item.tagsObject||{}).some(species=>species.toLowerCase().includes(searchLower));return matchesDisplayTags||matchesOriginalTags;}):mediaItems;return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',maxWidth:'1200px',margin:'auto'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:onBack,style:{padding:'8px 16px',marginRight:'16px',backgroundColor:'#f5f5f5',border:'1px solid #ddd',borderRadius:'4px',cursor:'pointer'},children:\"Back to Search\"}),/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,color:'#f44336'},children:\"Delete Files\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#fff3e0',border:'1px solid #ff9800',borderRadius:'6px',padding:'12px',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Warning:\"}),\" Deleted files cannot be recovered. Please select carefully.\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'16px',marginBottom:'20px',padding:'16px',backgroundColor:'#f9f9f9',borderRadius:'6px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Filter by bird species...\",value:searchTag,onChange:e=>setSearchTag(e.target.value),style:{padding:'8px',border:'1px solid #ddd',borderRadius:'4px',width:'300px'}}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSelectAll,style:{padding:'8px 16px',backgroundColor:selectedItems.size===filteredItems.length?'#ff9800':'#f44336',color:'white',border:'none',borderRadius:'4px',cursor:'pointer'},children:selectedItems.size===filteredItems.length?'Deselect All':'Select All'}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'#666'},children:[selectedItems.size,\" of \",filteredItems.length,\" selected for deletion\"]})]}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#d32f2f',backgroundColor:'#ffebee',padding:'12px',borderRadius:'4px',marginBottom:'20px',borderLeft:'4px solid #d32f2f'},children:error}),loading&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#1976d2',backgroundColor:'#e3f2fd',padding:'10px',borderRadius:'4px',marginBottom:'20px'},children:\"Loading gallery...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"gallery-grid\",style:{marginBottom:'30px'},children:filteredItems.length===0&&!loading?/*#__PURE__*/_jsx(\"p\",{children:\"No matching files found.\"}):filteredItems.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"gallery-tile\",children:[/*#__PURE__*/_jsx(SelectableMediaThumbnail,{url:item.url,fileType:item.file_type,tags:item.tags,isSelected:selectedItems.has(item.url),onSelect:()=>handleSelectItem(item.url),onMediaClick:handleMediaClick}),item.tags&&item.tags.length>0&&/*#__PURE__*/_jsx(\"ul\",{style:{marginTop:'8px'},children:item.tags.map((tag,i)=>/*#__PURE__*/_jsx(\"li\",{children:tag},i))})]},item.file_id||index))}),selectedItems.size>0&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'sticky',bottom:'20px',backgroundColor:'#ffffff',border:'2px solid #f44336',borderRadius:'8px',padding:'20px',boxShadow:'0 4px 12px rgba(0,0,0,0.15)',zIndex:1000,opacity:1},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{color:'#f44336',margin:'0 0 16px 0'},children:[\"Delete \",selectedItems.size,\" selected files\"]}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#d32f2f',fontSize:'14px',marginBottom:'16px',fontWeight:'bold'},children:\"Warning: This action cannot be undone. All selected files and their thumbnails will be permanently deleted.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'12px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedItems(new Set()),style:{padding:'10px 20px',backgroundColor:'#757575',color:'white',border:'none',borderRadius:'4px',cursor:'pointer'},children:\"Cancel Selection\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDeleteFiles,disabled:isDeleting,style:{padding:'10px 24px',backgroundColor:isDeleting?'#ccc':'#f44336',color:'white',border:'none',borderRadius:'4px',cursor:isDeleting?'not-allowed':'pointer',fontWeight:'bold'},children:isDeleting?'Deleting...':\"Delete \".concat(selectedItems.size,\" Files\")})]})]})]});};export default DeleteFiles;","map":{"version":3,"names":["React","useEffect","useState","fetchAuthSession","jsx","_jsx","jsxs","_jsxs","SelectableMediaThumbnail","_ref","url","fileType","tags","isSelected","onSelect","onMediaClick","width","imageError","setImageError","mediaType","setMediaType","detectMediaType","startsWith","lowerUrl","toLowerCase","includes","currentMediaType","handleImageError","renderImageThumbnail","src","alt","style","height","objectFit","cursor","border","borderRadius","transition","onClick","onError","renderVideoThumbnail","position","backgroundColor","display","flexDirection","alignItems","justifyContent","backgroundImage","backgroundSize","children","viewBox","fill","d","fontSize","color","marginTop","fontWeight","renderAudioThumbnail","bottom","gap","map","i","concat","opacity","renderUnknownThumbnail","thumbnailContent","top","left","zIndex","type","checked","onChange","e","stopPropagation","accentColor","right","DeleteFiles","_ref2","onBack","mediaItems","setMediaItems","selectedItems","setSelectedItems","Set","searchTag","setSearchTag","error","setError","loading","setLoading","totalCount","setTotalCount","isDeleting","setIsDeleting","apiBase","fetchAllMedia","_tokens$idToken","tokens","idToken","toString","Error","res","fetch","method","headers","Authorization","ok","text","status","data","json","console","log","allItems","transformGalleryData","gallery","total_count","length","err","forEach","Array","isArray","item","tagsArray","transformTags","push","file_type","file_id","upload_date","tagsObject","Object","entries","_ref3","species","count","handleSelectItem","newSelected","has","delete","add","handleSelectAll","size","filteredItems","handleMediaClick","mediaUrl","_tokens$idToken2","token","response","encodeURIComponent","links","window","open","originalUrl","replace","message","handleDeleteFiles","confirmDelete","confirm","_tokens$idToken3","urlArray","from","body","JSON","stringify","alert","filter","_item$tags","searchLower","matchesDisplayTags","some","tag","matchesOriginalTags","keys","padding","maxWidth","margin","marginBottom","marginRight","placeholder","value","target","borderLeft","className","index","boxShadow","disabled"],"sources":["/Users/saisaran/Desktop/BirdTag/UI/src/DeleteFiles.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { fetchAuthSession } from 'aws-amplify/auth';\nimport './Gallery.css'; // Reuse gallery styles\n\n// Media thumbnail component with selection checkbox for deletion\nconst SelectableMediaThumbnail = ({ url, fileType, tags, isSelected, onSelect, onMediaClick, width = 200 }) => {\n  const [imageError, setImageError] = useState(false);\n  const [mediaType, setMediaType] = useState(null);\n\n  const detectMediaType = (url, fileType) => {\n    if (fileType) {\n      if (fileType.startsWith('image/')) return 'image';\n      if (fileType.startsWith('video/')) return 'video';  \n      if (fileType.startsWith('audio/')) return 'audio';\n    }\n    \n    if (!url) return 'unknown';\n    \n    const lowerUrl = url.toLowerCase();\n    \n    if (lowerUrl.includes('.jpg') || lowerUrl.includes('.jpeg') || \n        lowerUrl.includes('.png') || lowerUrl.includes('.gif') || \n        lowerUrl.includes('.webp') || lowerUrl.includes('.bmp')) {\n      return 'image';\n    }\n    \n    if (lowerUrl.includes('.mp4') || lowerUrl.includes('.mov') || \n        lowerUrl.includes('.avi') || lowerUrl.includes('.mkv') || \n        lowerUrl.includes('.webm') || lowerUrl.includes('.quicktime')) {\n      return 'video';\n    }\n    \n    if (lowerUrl.includes('.mp3') || lowerUrl.includes('.wav') || \n        lowerUrl.includes('.ogg') || lowerUrl.includes('.m4a') || \n        lowerUrl.includes('.flac') || lowerUrl.includes('.aac')) {\n      return 'audio';\n    }\n    \n    return 'unknown';\n  };\n\n  const currentMediaType = mediaType || detectMediaType(url, fileType);\n  const handleImageError = () => {\n    setImageError(true);\n    setMediaType(detectMediaType(url, fileType));\n  };\n\n  const renderImageThumbnail = () => (\n    <img\n      src={url}\n      alt=\"thumbnail\"\n      style={{\n        width: '100%',\n        height: 180,\n        objectFit: 'cover',\n        cursor: 'pointer',\n        border: isSelected ? '3px solid #f44336' : '1px solid #ddd',\n        borderRadius: '4px',\n        transition: 'all 0.2s ease'\n      }}\n      onClick={() => onMediaClick(url)}\n      onError={handleImageError}\n    />\n  );\n\n  const renderVideoThumbnail = () => (\n    <div\n      style={{\n        width: '100%',\n        height: 180,\n        border: isSelected ? '3px solid #f44336' : '1px solid #ddd',\n        borderRadius: '4px',\n        cursor: 'pointer',\n        position: 'relative',\n        backgroundColor: '#f5f5f5',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        transition: 'all 0.2s ease',\n        backgroundImage: 'linear-gradient(45deg, #f0f0f0 25%, transparent 25%), linear-gradient(-45deg, #f0f0f0 25%, transparent 25%)',\n        backgroundSize: '20px 20px'\n      }}\n      onClick={() => onMediaClick(url)}\n    >\n      <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"#666\">\n        <path d=\"M8 5v14l11-7z\"/>\n      </svg>\n      <div style={{\n        fontSize: '14px',\n        color: '#666',\n        marginTop: '8px',\n        fontWeight: 'bold'\n      }}>\n        VIDEO\n      </div>\n    </div>\n  );\n\n  const renderAudioThumbnail = () => (\n    <div\n      style={{\n        width: '100%',\n        height: 180,\n        border: isSelected ? '3px solid #f44336' : '1px solid #ddd',\n        borderRadius: '4px',\n        cursor: 'pointer',\n        position: 'relative',\n        backgroundColor: '#f0f8ff',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        transition: 'all 0.2s ease'\n      }}\n      onClick={() => onMediaClick(url)}\n    >\n      <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"#4a90e2\">\n        <path d=\"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z\"/>\n      </svg>\n      <div style={{\n        fontSize: '14px',\n        color: '#4a90e2',\n        marginTop: '8px',\n        fontWeight: 'bold'\n      }}>\n        AUDIO\n      </div>\n      \n      <div style={{\n        position: 'absolute',\n        bottom: '15px',\n        display: 'flex',\n        alignItems: 'end',\n        gap: '2px'\n      }}>\n        {[12, 20, 8, 16, 24, 10, 18, 14, 22, 6, 16, 12].map((height, i) => (\n          <div\n            key={i}\n            style={{\n              width: '3px',\n              height: `${height}px`,\n              backgroundColor: '#4a90e2',\n              borderRadius: '1px',\n              opacity: 0.7\n            }}\n          />\n        ))}\n      </div>\n    </div>\n  );\n\n  const renderUnknownThumbnail = () => (\n    <div\n      style={{\n        width: '100%',\n        height: 180,\n        border: isSelected ? '3px solid #f44336' : '1px solid #ddd',\n        borderRadius: '4px',\n        cursor: 'pointer',\n        backgroundColor: '#f5f5f5',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        transition: 'all 0.2s ease'\n      }}\n      onClick={() => onMediaClick(url)}\n    >\n      <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"#999\">\n        <path d=\"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z\"/>\n      </svg>\n      <div style={{\n        fontSize: '14px',\n        color: '#999',\n        marginTop: '8px',\n        fontWeight: 'bold'\n      }}>\n        FILE\n      </div>\n    </div>\n  );\n\n  // Render the appropriate thumbnail\n  let thumbnailContent;\n  if (!imageError && (currentMediaType === 'image' || currentMediaType === 'unknown')) {\n    thumbnailContent = renderImageThumbnail();\n  } else if (currentMediaType === 'video') {\n    thumbnailContent = renderVideoThumbnail();\n  } else if (currentMediaType === 'audio') {\n    thumbnailContent = renderAudioThumbnail();\n  } else {\n    thumbnailContent = renderUnknownThumbnail();\n  }\n\n  return (\n    <div style={{ position: 'relative' }}>\n      {/* Selection checkbox with red theme */}\n      <div style={{\n        position: 'absolute',\n        top: '8px',\n        left: '8px',\n        zIndex: 10\n      }}>\n        <input\n          type=\"checkbox\"\n          checked={isSelected}\n          onChange={(e) => {\n            e.stopPropagation();\n            onSelect();\n          }}\n          style={{\n            width: '18px',\n            height: '18px',\n            cursor: 'pointer',\n            accentColor: '#f44336'\n          }}\n        />\n      </div>\n      \n      {/* Deletion overlay when selected */}\n      {isSelected && (\n        <div style={{\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: 'rgba(244, 67, 54, 0.2)',\n          borderRadius: '4px',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          zIndex: 5\n        }}>\n          <svg width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"rgba(244, 67, 54, 0.8)\">\n            <path d=\"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z\"/>\n          </svg>\n        </div>\n      )}\n      \n      {/* Thumbnail content */}\n      {thumbnailContent}\n    </div>\n  );\n};\n\nconst DeleteFiles = ({ onBack }) => {\n  const [mediaItems, setMediaItems] = useState([]);\n  const [selectedItems, setSelectedItems] = useState(new Set());\n  const [searchTag, setSearchTag] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [totalCount, setTotalCount] = useState(0);\n  const [isDeleting, setIsDeleting] = useState(false);\n\n  const apiBase = 'https://5myucif3s8.execute-api.us-east-1.amazonaws.com/dev';\n\n  useEffect(() => {\n    fetchAllMedia();\n  }, []);\n\n  const fetchAllMedia = async () => {\n    setLoading(true);\n    try {\n      const { tokens } = await fetchAuthSession();\n      const idToken = tokens?.idToken?.toString();\n\n      if (!idToken) {\n        throw new Error('Authentication token not available');\n      }\n\n      const res = await fetch(`${apiBase}/show-gallery`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${idToken}`,\n        },\n      });\n\n      if (!res.ok) {\n        const text = await res.text();\n        throw new Error(`Fetch failed: ${res.status} ${text}`);\n      }\n\n      const data = await res.json();\n      console.log('Gallery API response:', data);\n\n      const allItems = transformGalleryData(data.gallery || {});\n      setMediaItems(allItems);\n      setTotalCount(data.total_count || allItems.length);\n      setError('');\n    } catch (err) {\n      console.error('Error fetching media:', err);\n      setError('Failed to load media files.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const transformGalleryData = (gallery) => {\n    const allItems = [];\n    \n    ['images', 'audio', 'video', 'other'].forEach(fileType => {\n      if (gallery[fileType] && Array.isArray(gallery[fileType])) {\n        gallery[fileType].forEach(item => {\n          const tagsArray = transformTags(item.tags || {});\n          \n          allItems.push({\n            url: item.url,\n            file_type: item.file_type,\n            file_id: item.file_id,\n            upload_date: item.upload_date,\n            tags: tagsArray,\n            tagsObject: item.tags || {}\n          });\n        });\n      }\n    });\n    \n    return allItems;\n  };\n\n  const transformTags = (tagsObject) => {\n    if (!tagsObject || typeof tagsObject !== 'object') {\n      return [];\n    }\n    \n    return Object.entries(tagsObject).map(([species, count]) => {\n      return count > 1 ? `${species} (${count})` : species;\n    });\n  };\n\n  const handleSelectItem = (url) => {\n    const newSelected = new Set(selectedItems);\n    if (newSelected.has(url)) {\n      newSelected.delete(url);\n    } else {\n      newSelected.add(url);\n    }\n    setSelectedItems(newSelected);\n  };\n\n  const handleSelectAll = () => {\n    if (selectedItems.size === filteredItems.length) {\n      setSelectedItems(new Set()); // Deselect all\n    } else {\n      setSelectedItems(new Set(filteredItems.map(item => item.url))); // Select all filtered\n    }\n  };\n\n  const handleMediaClick = async (mediaUrl) => {\n    // Same media click handler from Gallery\n    try {\n      console.log('Opening media:', mediaUrl);\n\n      if (mediaUrl.includes('/thumbnails/')) {\n        try {\n          const { tokens } = await fetchAuthSession();\n          const token = tokens?.idToken?.toString();\n\n          const response = await fetch(\n            `${apiBase}/search/by-thumbnail-url?thumbnail_url=${encodeURIComponent(mediaUrl)}`,\n            {\n              method: 'GET',\n              headers: {\n                'Authorization': `Bearer ${token}`,\n                'Content-Type': 'application/json'\n              }\n            }\n          );\n\n          if (response.ok) {\n            const data = await response.json();\n            if (data.links && data.links.length > 0) {\n              window.open(data.links[0], '_blank');\n              return;\n            }\n          }\n        } catch (err) {\n          console.error('API lookup failed, trying fallback:', err);\n        }\n        \n        const originalUrl = mediaUrl.replace('/thumbnails/', '/');\n        window.open(originalUrl, '_blank');\n      } else {\n        window.open(mediaUrl, '_blank');\n      }\n    } catch (err) {\n      console.error('Media click failed:', err);\n      setError(`Error opening media: ${err.message}`);\n    }\n  };\n\n  const handleDeleteFiles = async () => {\n    if (selectedItems.size === 0) {\n      setError('Please select at least one file to delete');\n      return;\n    }\n\n    // Confirmation dialog\n    const confirmDelete = window.confirm(\n      `Are you sure you want to delete ${selectedItems.size} file(s)? This action cannot be undone.`\n    );\n\n    if (!confirmDelete) {\n      return;\n    }\n\n    setIsDeleting(true);\n    setError('');\n\n    try {\n      const { tokens } = await fetchAuthSession();\n      const token = tokens?.idToken?.toString();\n\n      const urlArray = Array.from(selectedItems);\n\n      const response = await fetch(`${apiBase}/delete`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`,\n        },\n        body: JSON.stringify({\n          url: urlArray\n        }),\n      });\n\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.error || 'Delete request failed');\n      }\n\n      // Success - refresh the gallery and clear selections\n      await fetchAllMedia();\n      setSelectedItems(new Set());\n      \n      alert(`Successfully deleted ${urlArray.length} files`);\n\n    } catch (err) {\n      console.error('Delete error:', err);\n      setError(err.message);\n    } finally {\n      setIsDeleting(false);\n    }\n  };\n\n  // Filter items based on search tag\n  const filteredItems = searchTag\n    ? mediaItems.filter((item) => {\n        const searchLower = searchTag.toLowerCase();\n        \n        const matchesDisplayTags = item.tags?.some(tag =>\n          tag.toLowerCase().includes(searchLower)\n        );\n        \n        const matchesOriginalTags = Object.keys(item.tagsObject || {}).some(species =>\n          species.toLowerCase().includes(searchLower)\n        );\n        \n        return matchesDisplayTags || matchesOriginalTags;\n      })\n    : mediaItems;\n\n  return (\n    <div style={{ padding: '20px', maxWidth: '1200px', margin: 'auto' }}>\n      {/* Header */}\n      <div style={{ display: 'flex', alignItems: 'center', marginBottom: '20px' }}>\n        <button \n          onClick={onBack}\n          style={{\n            padding: '8px 16px',\n            marginRight: '16px',\n            backgroundColor: '#f5f5f5',\n            border: '1px solid #ddd',\n            borderRadius: '4px',\n            cursor: 'pointer'\n          }}\n        >\n          Back to Search\n        </button>\n        <h2 style={{ margin: 0, color: '#f44336' }}>Delete Files</h2>\n      </div>\n\n      {/* Warning message */}\n      <div style={{\n        backgroundColor: '#fff3e0',\n        border: '1px solid #ff9800',\n        borderRadius: '6px',\n        padding: '12px',\n        marginBottom: '20px'\n      }}>\n        <strong>Warning:</strong> Deleted files cannot be recovered. Please select carefully.\n      </div>\n\n      {/* Selection and search controls */}\n      <div style={{ \n        display: 'flex', \n        alignItems: 'center', \n        gap: '16px', \n        marginBottom: '20px',\n        padding: '16px',\n        backgroundColor: '#f9f9f9',\n        borderRadius: '6px'\n      }}>\n        <input\n          type=\"text\"\n          placeholder=\"Filter by bird species...\"\n          value={searchTag}\n          onChange={(e) => setSearchTag(e.target.value)}\n          style={{\n            padding: '8px',\n            border: '1px solid #ddd',\n            borderRadius: '4px',\n            width: '300px'\n          }}\n        />\n        \n        <button \n          onClick={handleSelectAll}\n          style={{\n            padding: '8px 16px',\n            backgroundColor: selectedItems.size === filteredItems.length ? '#ff9800' : '#f44336',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer'\n          }}\n        >\n          {selectedItems.size === filteredItems.length ? 'Deselect All' : 'Select All'}\n        </button>\n        \n        <span style={{ color: '#666' }}>\n          {selectedItems.size} of {filteredItems.length} selected for deletion\n        </span>\n      </div>\n\n      {/* Error display */}\n      {error && (\n        <div style={{\n          color: '#d32f2f',\n          backgroundColor: '#ffebee',\n          padding: '12px',\n          borderRadius: '4px',\n          marginBottom: '20px',\n          borderLeft: '4px solid #d32f2f'\n        }}>\n          {error}\n        </div>\n      )}\n\n      {/* Loading state */}\n      {loading && (\n        <div style={{\n          color: '#1976d2',\n          backgroundColor: '#e3f2fd',\n          padding: '10px',\n          borderRadius: '4px',\n          marginBottom: '20px'\n        }}>\n          Loading gallery...\n        </div>\n      )}\n\n      {/* Gallery grid */}\n      <div className=\"gallery-grid\" style={{ marginBottom: '30px' }}>\n        {filteredItems.length === 0 && !loading ? (\n          <p>No matching files found.</p>\n        ) : (\n          filteredItems.map((item, index) => (\n            <div key={item.file_id || index} className=\"gallery-tile\">\n              <SelectableMediaThumbnail\n                url={item.url}\n                fileType={item.file_type}\n                tags={item.tags}\n                isSelected={selectedItems.has(item.url)}\n                onSelect={() => handleSelectItem(item.url)}\n                onMediaClick={handleMediaClick}\n              />\n              \n              {/* Tags display */}\n              {item.tags && item.tags.length > 0 && (\n                <ul style={{ marginTop: '8px' }}>\n                  {item.tags.map((tag, i) => (\n                    <li key={i}>{tag}</li>\n                  ))}\n                </ul>\n              )}\n            </div>\n          ))\n        )}\n      </div>\n\n      {/* Delete interface */}\n      {selectedItems.size > 0 && (\n        <div style={{\n          position: 'sticky',\n          bottom: '20px',\n          backgroundColor: '#ffffff',\n          border: '2px solid #f44336',\n          borderRadius: '8px',\n          padding: '20px',\n          boxShadow: '0 4px 12px rgba(0,0,0,0.15)',\n          zIndex: 1000,\n          opacity: 1\n        }}>\n          <h3 style={{ color: '#f44336', margin: '0 0 16px 0' }}>\n             Delete {selectedItems.size} selected files\n          </h3>\n          \n          <p style={{ \n            color: '#d32f2f', \n            fontSize: '14px', \n            marginBottom: '16px',\n            fontWeight: 'bold'\n          }}>\n             Warning: This action cannot be undone. All selected files and their thumbnails will be permanently deleted.\n          </p>\n\n          {/* Delete button */}\n          <div style={{ display: 'flex', gap: '12px' }}>\n            <button \n              onClick={() => setSelectedItems(new Set())}\n              style={{\n                padding: '10px 20px',\n                backgroundColor: '#757575',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px',\n                cursor: 'pointer'\n              }}\n            >\n              Cancel Selection\n            </button>\n            \n            <button \n              onClick={handleDeleteFiles}\n              disabled={isDeleting}\n              style={{\n                padding: '10px 24px',\n                backgroundColor: isDeleting ? '#ccc' : '#f44336',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px',\n                cursor: isDeleting ? 'not-allowed' : 'pointer',\n                fontWeight: 'bold'\n              }}\n            >\n              {isDeleting ? 'Deleting...' : `Delete ${selectedItems.size} Files`}\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default DeleteFiles;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}