{"ast":null,"code":"import React,{useState}from'react';import{fetchAuthSession}from'aws-amplify/auth';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function BirdNotificationSignup(){const[email,setEmail]=useState('');const[selectedSpecies,setSelectedSpecies]=useState([]);const[customSpecies,setCustomSpecies]=useState('');const[isSubmitting,setIsSubmitting]=useState(false);const[submitted,setSubmitted]=useState(false);const[error,setError]=useState('');const predefinedSpecies=['Crow','Kingfisher','Myna','Eagle','Sparrow','Robin','Cardinal','Blue Jay','Owl','Hawk','Parrot','Dove'];const handleSpeciesToggle=species=>{setSelectedSpecies(prev=>prev.includes(species)?prev.filter(s=>s!==species):[...prev,species]);};const handleAddCustomSpecies=()=>{if(customSpecies.trim()&&!selectedSpecies.includes(customSpecies.trim())){setSelectedSpecies(prev=>[...prev,customSpecies.trim()]);setCustomSpecies('');}};const removeSpecies=species=>{setSelectedSpecies(prev=>prev.filter(s=>s!==species));};const validateEmail=email=>{return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);};const handleSubmit=async()=>{if(!validateEmail(email)){setError('Please enter a valid email address');return;}if(selectedSpecies.length===0){setError('Please select at least one bird species');return;}setIsSubmitting(true);setError('');try{var _tokens$idToken;// Get Cognito ID Token\nconst{tokens}=await fetchAuthSession();const idToken=tokens===null||tokens===void 0?void 0:(_tokens$idToken=tokens.idToken)===null||_tokens$idToken===void 0?void 0:_tokens$idToken.toString();// Prepare data in DynamoDB format\nconst dynamoData={Email:email,Species:selectedSpecies.map(species=>({S:species}))};console.log('Data to be stored in DynamoDB:',dynamoData);// Call your API endpoint\nconst response=await fetch('https://5myucif3s8.execute-api.us-east-1.amazonaws.com/dev/notifications',{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(idToken)},body:JSON.stringify(dynamoData)});const result=await response.json();if(response.status===200){setSubmitted(true);}else{setError(result.message||'Failed to save notification preferences. Please try again.');}}catch(err){console.error('Subscription failed:',err);setError('Failed to save notification preferences. Check console for details.');}finally{setIsSubmitting(false);}};const resetForm=()=>{setSubmitted(false);setEmail('');setSelectedSpecies([]);setError('');};if(submitted){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-sky-50 to-indigo-100 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl text-green-600\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"All Set!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"You'll receive email notifications when any of your selected bird species are uploaded.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-700 mb-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",email]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-700\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Species:\"}),\" \",selectedSpecies.join(', ')]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:resetForm,className:\"w-full bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 transition-colors\",children:\"Add Another Subscription\"})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-sky-50 to-indigo-100 py-12 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-2xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-xl overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-indigo-600 to-purple-600 px-8 py-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl text-white mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-white\",children:\"Subscribe to Notifications\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-indigo-100\",children:\"Get notified when your favorite birds are spotted\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-8\",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 rounded-lg p-4 mb-6\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-red-700 text-sm\",children:error})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Email Address\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",value:email,onChange:e=>setEmail(e.target.value),className:\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\",placeholder:\"Enter your email address\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-3\",children:\"Select Bird Species\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 sm:grid-cols-3 gap-2 mb-4\",children:predefinedSpecies.map(species=>/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleSpeciesToggle(species),className:\"px-3 py-2 rounded-lg text-sm font-medium transition-colors \".concat(selectedSpecies.includes(species)?'bg-indigo-600 text-white':'bg-gray-100 text-gray-700 hover:bg-gray-200'),children:species},species))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:customSpecies,onChange:e=>setCustomSpecies(e.target.value),placeholder:\"Add custom species\",className:\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\",onKeyPress:e=>e.key==='Enter'&&(e.preventDefault(),handleAddCustomSpecies())}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleAddCustomSpecies,className:\"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:\"+\"})})]})]}),selectedSpecies.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Selected Species (\",selectedSpecies.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:selectedSpecies.map(species=>/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm bg-indigo-100 text-indigo-800\",children:[species,/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeSpecies(species),className:\"ml-2 h-4 w-4 text-indigo-600 hover:text-indigo-800\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xs\",children:\"\\xD7\"})})]},species))})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleSubmit,disabled:isSubmitting,className:\"w-full bg-indigo-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",children:isSubmitting?'Setting Up Notifications...':'Subscribe to Notifications'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-3\",children:\"How it works\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(\"p\",{children:\" Select the bird species you're interested in\"}),/*#__PURE__*/_jsx(\"p\",{children:\" Enter your email address\"}),/*#__PURE__*/_jsx(\"p\",{children:\" Receive notifications whenever someone uploads photos of your selected species\"}),/*#__PURE__*/_jsx(\"p\",{children:\" You can update your preferences anytime\"})]})]})]})});}","map":{"version":3,"names":["React","useState","fetchAuthSession","jsx","_jsx","jsxs","_jsxs","BirdNotificationSignup","email","setEmail","selectedSpecies","setSelectedSpecies","customSpecies","setCustomSpecies","isSubmitting","setIsSubmitting","submitted","setSubmitted","error","setError","predefinedSpecies","handleSpeciesToggle","species","prev","includes","filter","s","handleAddCustomSpecies","trim","removeSpecies","validateEmail","test","handleSubmit","length","_tokens$idToken","tokens","idToken","toString","dynamoData","Email","Species","map","S","console","log","response","fetch","method","headers","concat","body","JSON","stringify","result","json","status","message","err","resetForm","className","children","join","onClick","htmlFor","type","id","value","onChange","e","target","placeholder","required","onKeyPress","key","preventDefault","disabled"],"sources":["/Users/saisaran/Desktop/BirdTag/UI/src/Notification.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { fetchAuthSession } from 'aws-amplify/auth';\n\nexport default function BirdNotificationSignup() {\n  const [email, setEmail] = useState('');\n  const [selectedSpecies, setSelectedSpecies] = useState([]);\n  const [customSpecies, setCustomSpecies] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [submitted, setSubmitted] = useState(false);\n  const [error, setError] = useState('');\n\n  const predefinedSpecies = [\n    'Crow', 'Kingfisher', 'Myna', 'Eagle', 'Sparrow', 'Robin', \n    'Cardinal', 'Blue Jay', 'Owl', 'Hawk', 'Parrot', 'Dove'\n  ];\n\n  const handleSpeciesToggle = (species) => {\n    setSelectedSpecies(prev => \n      prev.includes(species) \n        ? prev.filter(s => s !== species)\n        : [...prev, species]\n    );\n  };\n\n  const handleAddCustomSpecies = () => {\n    if (customSpecies.trim() && !selectedSpecies.includes(customSpecies.trim())) {\n      setSelectedSpecies(prev => [...prev, customSpecies.trim()]);\n      setCustomSpecies('');\n    }\n  };\n\n  const removeSpecies = (species) => {\n    setSelectedSpecies(prev => prev.filter(s => s !== species));\n  };\n\n  const validateEmail = (email) => {\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n  };\n\n  const handleSubmit = async () => {\n    \n    if (!validateEmail(email)) {\n      setError('Please enter a valid email address');\n      return;\n    }\n    \n    if (selectedSpecies.length === 0) {\n      setError('Please select at least one bird species');\n      return;\n    }\n\n    setIsSubmitting(true);\n    setError('');\n\n    try {\n      // Get Cognito ID Token\n      const { tokens } = await fetchAuthSession();\n      const idToken = tokens?.idToken?.toString();\n\n      // Prepare data in DynamoDB format\n      const dynamoData = {\n        Email: email,\n        Species: selectedSpecies.map(species => ({ S: species }))\n      };\n      \n      console.log('Data to be stored in DynamoDB:', dynamoData);\n      \n      // Call your API endpoint\n      const response = await fetch('https://5myucif3s8.execute-api.us-east-1.amazonaws.com/dev/notifications', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${idToken}`\n        },\n        body: JSON.stringify(dynamoData)\n      });\n\n      const result = await response.json();\n      \n      if (response.status === 200) {\n        setSubmitted(true);\n      } else {\n        setError(result.message || 'Failed to save notification preferences. Please try again.');\n      }\n    } catch (err) {\n      console.error('Subscription failed:', err);\n      setError('Failed to save notification preferences. Check console for details.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const resetForm = () => {\n    setSubmitted(false);\n    setEmail('');\n    setSelectedSpecies([]);\n    setError('');\n  };\n\n  if (submitted) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-sky-50 to-indigo-100 flex items-center justify-center p-4\">\n        <div className=\"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center\">\n          <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n            <span className=\"text-2xl text-green-600\"></span>\n          </div>\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">All Set!</h2>\n          <p className=\"text-gray-600 mb-6\">\n            You'll receive email notifications when any of your selected bird species are uploaded.\n          </p>\n          <div className=\"bg-gray-50 rounded-lg p-4 mb-6\">\n            <p className=\"text-sm text-gray-700 mb-2\">\n              <strong>Email:</strong> {email}\n            </p>\n            <p className=\"text-sm text-gray-700\">\n              <strong>Species:</strong> {selectedSpecies.join(', ')}\n            </p>\n          </div>\n          <button\n            onClick={resetForm}\n            className=\"w-full bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 transition-colors\"\n          >\n            Add Another Subscription\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-sky-50 to-indigo-100 py-12 px-4\">\n      <div className=\"max-w-2xl mx-auto\">\n        <div className=\"bg-white rounded-2xl shadow-xl overflow-hidden\">\n          <div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 px-8 py-6\">\n            <div className=\"flex items-center\">\n              <span className=\"text-2xl text-white mr-3\"></span>\n              <div>\n                <h1 className=\"text-2xl font-bold text-white\">Subscribe to Notifications</h1>\n                <p className=\"text-indigo-100\">Get notified when your favorite birds are spotted</p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"p-8\">\n            {error && (\n              <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-6\">\n                <p className=\"text-red-700 text-sm\">{error}</p>\n              </div>\n            )}\n\n            <div className=\"mb-6\">\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Email Address\n              </label>\n              <div className=\"relative\">\n                <span className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\"></span>\n                <input\n                  type=\"email\"\n                  id=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\n                  placeholder=\"Enter your email address\"\n                  required\n                />\n              </div>\n            </div>\n\n            <div className=\"mb-6\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-3\">\n                Select Bird Species\n              </label>\n              \n              <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-2 mb-4\">\n                {predefinedSpecies.map((species) => (\n                  <button\n                    key={species}\n                    type=\"button\"\n                    onClick={() => handleSpeciesToggle(species)}\n                    className={`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\n                      selectedSpecies.includes(species)\n                        ? 'bg-indigo-600 text-white'\n                        : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                    }`}\n                  >\n                    {species}\n                  </button>\n                ))}\n              </div>\n\n              <div className=\"flex gap-2\">\n                <input\n                  type=\"text\"\n                  value={customSpecies}\n                  onChange={(e) => setCustomSpecies(e.target.value)}\n                  placeholder=\"Add custom species\"\n                  className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\n                  onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), handleAddCustomSpecies())}\n                />\n                <button\n                  type=\"button\"\n                  onClick={handleAddCustomSpecies}\n                  className=\"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors\"\n                >\n                  <span className=\"text-lg\">+</span>\n                </button>\n              </div>\n            </div>\n\n            {selectedSpecies.length > 0 && (\n              <div className=\"mb-6\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Selected Species ({selectedSpecies.length})\n                </label>\n                <div className=\"flex flex-wrap gap-2\">\n                  {selectedSpecies.map((species) => (\n                    <span\n                      key={species}\n                      className=\"inline-flex items-center px-3 py-1 rounded-full text-sm bg-indigo-100 text-indigo-800\"\n                    >\n                      {species}\n                      <button\n                        type=\"button\"\n                        onClick={() => removeSpecies(species)}\n                        className=\"ml-2 h-4 w-4 text-indigo-600 hover:text-indigo-800\"\n                      >\n                        <span className=\"text-xs\">Ã—</span>\n                      </button>\n                    </span>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            <button\n              type=\"button\"\n              onClick={handleSubmit}\n              disabled={isSubmitting}\n              className=\"w-full bg-indigo-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n            >\n              {isSubmitting ? 'Setting Up Notifications...' : 'Subscribe to Notifications'}\n            </button>\n          </div>\n        </div>\n\n        <div className=\"mt-8 bg-white rounded-lg shadow-md p-6\">\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">How it works</h3>\n          <div className=\"space-y-2 text-sm text-gray-600\">\n            <p> Select the bird species you're interested in</p>\n            <p> Enter your email address</p>\n            <p> Receive notifications whenever someone uploads photos of your selected species</p>\n            <p> You can update your preferences anytime</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}