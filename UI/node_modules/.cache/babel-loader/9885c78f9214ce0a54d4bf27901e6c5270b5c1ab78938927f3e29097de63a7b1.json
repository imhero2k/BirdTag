{"ast":null,"code":"import React__default from 'react';\nimport { isUndefined } from '@aws-amplify/ui';\nimport useHasValueUpdated from './useHasValueUpdated.mjs';\nfunction useControlledReducer(reducer, initialState, options) {\n  const {\n    controlledState,\n    onStateChange\n  } = options !== null && options !== void 0 ? options : {};\n  const [uncontrolledState, dispatch] = React__default.useReducer(reducer, controlledState !== null && controlledState !== void 0 ? controlledState : initialState);\n  const controlledStateRef = React__default.useRef();\n  if (!isUndefined(controlledState)) {\n    controlledStateRef.current = controlledState;\n  }\n  const hasUncontrolledStateChanged = useHasValueUpdated(uncontrolledState, true);\n  React__default.useEffect(() => {\n    // only run `onStateChange` if `uncontrolledState` has changed,\n    // ignore reference change to `onStateChange`\n    if (hasUncontrolledStateChanged) {\n      onStateChange === null || onStateChange === void 0 || onStateChange(uncontrolledState);\n    }\n  }, [hasUncontrolledStateChanged, onStateChange, uncontrolledState]);\n  const state = controlledStateRef.current ? controlledStateRef.current : uncontrolledState;\n  return React__default.useMemo(() => [state, dispatch], [state]);\n}\nexport { useControlledReducer as default };","map":{"version":3,"names":["React__default","isUndefined","useHasValueUpdated","useControlledReducer","reducer","initialState","options","controlledState","onStateChange","uncontrolledState","dispatch","useReducer","controlledStateRef","useRef","current","hasUncontrolledStateChanged","useEffect","state","useMemo","default"],"sources":["/Users/saisaran/Desktop/BirdTag/UI/node_modules/@aws-amplify/ui-react-core/dist/esm/hooks/useControlledReducer.mjs"],"sourcesContent":["import React__default from 'react';\nimport { isUndefined } from '@aws-amplify/ui';\nimport useHasValueUpdated from './useHasValueUpdated.mjs';\n\nfunction useControlledReducer(reducer, initialState, options) {\n    const { controlledState, onStateChange } = options ?? {};\n    const [uncontrolledState, dispatch] = React__default.useReducer(reducer, controlledState ?? initialState);\n    const controlledStateRef = React__default.useRef();\n    if (!isUndefined(controlledState)) {\n        controlledStateRef.current = controlledState;\n    }\n    const hasUncontrolledStateChanged = useHasValueUpdated(uncontrolledState, true);\n    React__default.useEffect(() => {\n        // only run `onStateChange` if `uncontrolledState` has changed,\n        // ignore reference change to `onStateChange`\n        if (hasUncontrolledStateChanged) {\n            onStateChange?.(uncontrolledState);\n        }\n    }, [hasUncontrolledStateChanged, onStateChange, uncontrolledState]);\n    const state = controlledStateRef.current\n        ? controlledStateRef.current\n        : uncontrolledState;\n    return React__default.useMemo(() => [state, dispatch], [state]);\n}\n\nexport { useControlledReducer as default };\n"],"mappings":"AAAA,OAAOA,cAAc,MAAM,OAAO;AAClC,SAASC,WAAW,QAAQ,iBAAiB;AAC7C,OAAOC,kBAAkB,MAAM,0BAA0B;AAEzD,SAASC,oBAAoBA,CAACC,OAAO,EAAEC,YAAY,EAAEC,OAAO,EAAE;EAC1D,MAAM;IAAEC,eAAe;IAAEC;EAAc,CAAC,GAAGF,OAAO,aAAPA,OAAO,cAAPA,OAAO,GAAI,CAAC,CAAC;EACxD,MAAM,CAACG,iBAAiB,EAAEC,QAAQ,CAAC,GAAGV,cAAc,CAACW,UAAU,CAACP,OAAO,EAAEG,eAAe,aAAfA,eAAe,cAAfA,eAAe,GAAIF,YAAY,CAAC;EACzG,MAAMO,kBAAkB,GAAGZ,cAAc,CAACa,MAAM,CAAC,CAAC;EAClD,IAAI,CAACZ,WAAW,CAACM,eAAe,CAAC,EAAE;IAC/BK,kBAAkB,CAACE,OAAO,GAAGP,eAAe;EAChD;EACA,MAAMQ,2BAA2B,GAAGb,kBAAkB,CAACO,iBAAiB,EAAE,IAAI,CAAC;EAC/ET,cAAc,CAACgB,SAAS,CAAC,MAAM;IAC3B;IACA;IACA,IAAID,2BAA2B,EAAE;MAC7BP,aAAa,aAAbA,aAAa,eAAbA,aAAa,CAAGC,iBAAiB,CAAC;IACtC;EACJ,CAAC,EAAE,CAACM,2BAA2B,EAAEP,aAAa,EAAEC,iBAAiB,CAAC,CAAC;EACnE,MAAMQ,KAAK,GAAGL,kBAAkB,CAACE,OAAO,GAClCF,kBAAkB,CAACE,OAAO,GAC1BL,iBAAiB;EACvB,OAAOT,cAAc,CAACkB,OAAO,CAAC,MAAM,CAACD,KAAK,EAAEP,QAAQ,CAAC,EAAE,CAACO,KAAK,CAAC,CAAC;AACnE;AAEA,SAASd,oBAAoB,IAAIgB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}