{"ast":null,"code":"import _objectSpread from \"/Users/saisaran/Desktop/BirdTag/UI/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"/Users/saisaran/Desktop/BirdTag/UI/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"multiple\", \"type\", \"testId\"];\nimport React__default from 'react';\nimport { isFunction } from '@aws-amplify/ui';\nimport { useStableId } from '../../primitives/utils/useStableId.mjs';\n\n// `FileSelect` input `type` must always be set to `file`\nconst INPUT_TYPE = 'file';\nconst TEST_ID = 'amplify-file-select';\nconst DEFAULT_PROPS = {\n  style: {\n    display: 'none'\n  },\n  type: 'file',\n  'data-testid': TEST_ID\n};\n/**\n * @internal @unstable\n */\nconst FileSelect = React__default.forwardRef(function FileSelect(_ref, ref) {\n  let {\n      multiple = true,\n      type = 'FILE',\n      testId = 'amplify-file-select'\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return React__default.createElement(\"input\", _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, DEFAULT_PROPS), props), type === 'FOLDER' ? {\n    webkitdirectory: ''\n  } : undefined), {}, {\n    \"data-testid\": testId,\n    multiple: multiple,\n    ref: ref,\n    type: INPUT_TYPE\n  }));\n});\n/**\n * @internal @unstable\n *\n * @usage\n * ```tsx\n *  function MyUploadButton() {\n *    const [files, setFiles] = React.useState<File[]>([]);\n *    const [fileSelect, handleFileSelect] = useFileSelect(setFiles);\n *    return (\n *      <>\n *        {fileSelect}\n *        <Button\n *          onClick={() => {\n *            handleFileSelect('file');\n *          }}\n *        />\n *      </>\n *    );\n *  }\n * ```\n */\nconst useFileSelect = onSelect => {\n  const [inputProps, setInputProps] = React__default.useState(undefined);\n  const id = useStableId();\n  const ref = React__default.useRef(null);\n  React__default.useEffect(() => {\n    if (inputProps) {\n      var _ref$current;\n      (_ref$current = ref.current) === null || _ref$current === void 0 || _ref$current.click();\n    }\n  }, [id, inputProps]);\n  const handleFileSelect = React__default.useCallback((type, options) => {\n    var _ref$current2;\n    if (id !== ((_ref$current2 = ref.current) === null || _ref$current2 === void 0 ? void 0 : _ref$current2.id)) return;\n    setInputProps(_objectSpread({\n      type\n    }, options));\n  }, [id]);\n  const fileSelect = React__default.createElement(FileSelect, _objectSpread(_objectSpread({}, inputProps), {}, {\n    id: id,\n    onChange: event => {\n      var _event$target$files;\n      if (isFunction(inputProps === null || inputProps === void 0 ? void 0 : inputProps.onChange)) inputProps === null || inputProps === void 0 || inputProps.onChange(event);\n      if (isFunction(onSelect) && !!((_event$target$files = event.target.files) !== null && _event$target$files !== void 0 && _event$target$files.length)) {\n        onSelect === null || onSelect === void 0 || onSelect([...event.target.files]);\n      }\n      // Reset the input value to allow re-selecting the same file\n      if (ref.current) {\n        ref.current.value = '';\n      }\n      // clean up\n      setInputProps(undefined);\n    },\n    ref: ref\n  }));\n  return [fileSelect, handleFileSelect];\n};\nexport { DEFAULT_PROPS, FileSelect, useFileSelect };","map":{"version":3,"names":["React__default","isFunction","useStableId","INPUT_TYPE","TEST_ID","DEFAULT_PROPS","style","display","type","FileSelect","forwardRef","_ref","ref","multiple","testId","props","_objectWithoutProperties","_excluded","createElement","_objectSpread","webkitdirectory","undefined","useFileSelect","onSelect","inputProps","setInputProps","useState","id","useRef","useEffect","_ref$current","current","click","handleFileSelect","useCallback","options","_ref$current2","fileSelect","onChange","event","_event$target$files","target","files","length","value"],"sources":["/Users/saisaran/Desktop/BirdTag/UI/node_modules/@aws-amplify/ui-react/dist/esm/components/FileSelect/FileSelect.mjs"],"sourcesContent":["import React__default from 'react';\nimport { isFunction } from '@aws-amplify/ui';\nimport { useStableId } from '../../primitives/utils/useStableId.mjs';\n\n// `FileSelect` input `type` must always be set to `file`\nconst INPUT_TYPE = 'file';\nconst TEST_ID = 'amplify-file-select';\nconst DEFAULT_PROPS = {\n    style: { display: 'none' },\n    type: 'file',\n    'data-testid': TEST_ID,\n};\n/**\n * @internal @unstable\n */\nconst FileSelect = React__default.forwardRef(function FileSelect({ multiple = true, type = 'FILE', testId = 'amplify-file-select', ...props }, ref) {\n    return (React__default.createElement(\"input\", { ...DEFAULT_PROPS, ...props, ...(type === 'FOLDER' ? { webkitdirectory: '' } : undefined), \"data-testid\": testId, multiple: multiple, ref: ref, type: INPUT_TYPE }));\n});\n/**\n * @internal @unstable\n *\n * @usage\n * ```tsx\n *  function MyUploadButton() {\n *    const [files, setFiles] = React.useState<File[]>([]);\n *    const [fileSelect, handleFileSelect] = useFileSelect(setFiles);\n *    return (\n *      <>\n *        {fileSelect}\n *        <Button\n *          onClick={() => {\n *            handleFileSelect('file');\n *          }}\n *        />\n *      </>\n *    );\n *  }\n * ```\n */\nconst useFileSelect = (onSelect) => {\n    const [inputProps, setInputProps] = React__default.useState(undefined);\n    const id = useStableId();\n    const ref = React__default.useRef(null);\n    React__default.useEffect(() => {\n        if (inputProps) {\n            ref.current?.click();\n        }\n    }, [id, inputProps]);\n    const handleFileSelect = React__default.useCallback((type, options) => {\n        if (id !== ref.current?.id)\n            return;\n        setInputProps({ type, ...options });\n    }, [id]);\n    const fileSelect = (React__default.createElement(FileSelect, { ...inputProps, id: id, onChange: (event) => {\n            if (isFunction(inputProps?.onChange))\n                inputProps?.onChange(event);\n            if (isFunction(onSelect) && !!event.target.files?.length) {\n                onSelect?.([...event.target.files]);\n            }\n            // Reset the input value to allow re-selecting the same file\n            if (ref.current) {\n                ref.current.value = '';\n            }\n            // clean up\n            setInputProps(undefined);\n        }, ref: ref }));\n    return [fileSelect, handleFileSelect];\n};\n\nexport { DEFAULT_PROPS, FileSelect, useFileSelect };\n"],"mappings":";;;AAAA,OAAOA,cAAc,MAAM,OAAO;AAClC,SAASC,UAAU,QAAQ,iBAAiB;AAC5C,SAASC,WAAW,QAAQ,wCAAwC;;AAEpE;AACA,MAAMC,UAAU,GAAG,MAAM;AACzB,MAAMC,OAAO,GAAG,qBAAqB;AACrC,MAAMC,aAAa,GAAG;EAClBC,KAAK,EAAE;IAAEC,OAAO,EAAE;EAAO,CAAC;EAC1BC,IAAI,EAAE,MAAM;EACZ,aAAa,EAAEJ;AACnB,CAAC;AACD;AACA;AACA;AACA,MAAMK,UAAU,GAAGT,cAAc,CAACU,UAAU,CAAC,SAASD,UAAUA,CAAAE,IAAA,EAA+EC,GAAG,EAAE;EAAA,IAAnF;MAAEC,QAAQ,GAAG,IAAI;MAAEL,IAAI,GAAG,MAAM;MAAEM,MAAM,GAAG;IAAgC,CAAC,GAAAH,IAAA;IAAPI,KAAK,GAAAC,wBAAA,CAAAL,IAAA,EAAAM,SAAA;EACvI,OAAQjB,cAAc,CAACkB,aAAa,CAAC,OAAO,EAAAC,aAAA,CAAAA,aAAA,CAAAA,aAAA,CAAAA,aAAA,KAAOd,aAAa,GAAKU,KAAK,GAAMP,IAAI,KAAK,QAAQ,GAAG;IAAEY,eAAe,EAAE;EAAG,CAAC,GAAGC,SAAS;IAAG,aAAa,EAAEP,MAAM;IAAED,QAAQ,EAAEA,QAAQ;IAAED,GAAG,EAAEA,GAAG;IAAEJ,IAAI,EAAEL;EAAU,EAAE,CAAC;AACtN,CAAC,CAAC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMmB,aAAa,GAAIC,QAAQ,IAAK;EAChC,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGzB,cAAc,CAAC0B,QAAQ,CAACL,SAAS,CAAC;EACtE,MAAMM,EAAE,GAAGzB,WAAW,CAAC,CAAC;EACxB,MAAMU,GAAG,GAAGZ,cAAc,CAAC4B,MAAM,CAAC,IAAI,CAAC;EACvC5B,cAAc,CAAC6B,SAAS,CAAC,MAAM;IAC3B,IAAIL,UAAU,EAAE;MAAA,IAAAM,YAAA;MACZ,CAAAA,YAAA,GAAAlB,GAAG,CAACmB,OAAO,cAAAD,YAAA,eAAXA,YAAA,CAAaE,KAAK,CAAC,CAAC;IACxB;EACJ,CAAC,EAAE,CAACL,EAAE,EAAEH,UAAU,CAAC,CAAC;EACpB,MAAMS,gBAAgB,GAAGjC,cAAc,CAACkC,WAAW,CAAC,CAAC1B,IAAI,EAAE2B,OAAO,KAAK;IAAA,IAAAC,aAAA;IACnE,IAAIT,EAAE,OAAAS,aAAA,GAAKxB,GAAG,CAACmB,OAAO,cAAAK,aAAA,uBAAXA,aAAA,CAAaT,EAAE,GACtB;IACJF,aAAa,CAAAN,aAAA;MAAGX;IAAI,GAAK2B,OAAO,CAAE,CAAC;EACvC,CAAC,EAAE,CAACR,EAAE,CAAC,CAAC;EACR,MAAMU,UAAU,GAAIrC,cAAc,CAACkB,aAAa,CAACT,UAAU,EAAAU,aAAA,CAAAA,aAAA,KAAOK,UAAU;IAAEG,EAAE,EAAEA,EAAE;IAAEW,QAAQ,EAAGC,KAAK,IAAK;MAAA,IAAAC,mBAAA;MACnG,IAAIvC,UAAU,CAACuB,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEc,QAAQ,CAAC,EAChCd,UAAU,aAAVA,UAAU,eAAVA,UAAU,CAAEc,QAAQ,CAACC,KAAK,CAAC;MAC/B,IAAItC,UAAU,CAACsB,QAAQ,CAAC,IAAI,CAAC,GAAAiB,mBAAA,GAACD,KAAK,CAACE,MAAM,CAACC,KAAK,cAAAF,mBAAA,eAAlBA,mBAAA,CAAoBG,MAAM,GAAE;QACtDpB,QAAQ,aAARA,QAAQ,eAARA,QAAQ,CAAG,CAAC,GAAGgB,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC;MACvC;MACA;MACA,IAAI9B,GAAG,CAACmB,OAAO,EAAE;QACbnB,GAAG,CAACmB,OAAO,CAACa,KAAK,GAAG,EAAE;MAC1B;MACA;MACAnB,aAAa,CAACJ,SAAS,CAAC;IAC5B,CAAC;IAAET,GAAG,EAAEA;EAAG,EAAE,CAAE;EACnB,OAAO,CAACyB,UAAU,EAAEJ,gBAAgB,CAAC;AACzC,CAAC;AAED,SAAS5B,aAAa,EAAEI,UAAU,EAAEa,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}